<?xml version="1.0" encoding="UTF-8"?>

<CapabilityStatement xmlns="http://hl7.org/fhir">
  <id value="MHVcapabilities"/>
  <text>
    <status value="extensions"/><div xmlns="http://www.w3.org/1999/xhtml">Placeholder</div>
  </text>
  <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm">
    <valueInteger value="1">
      <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom">
        <valueCanonical value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/ImplementationGuide/va.mhv.fhir.phr"/>
      </extension>
    </valueInteger>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
    <valueCode value="trial-use">
      <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-conformance-derivedFrom">
        <valueCanonical value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/ImplementationGuide/va.mhv.fhir.phr"/>
      </extension>
    </valueCode>
  </extension>
  <url value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/CapabilityStatement/MHVcapabilities"/>
  <version value="0.2.2"/>
  <name value="MHV_PHR"/>
  <title value="This indicates how MHV exposes PHR using FHIR"/>
  <status value="active"/>
  <experimental value="false"/>
  <date value="2023-08-23"/>
  <publisher value="VA Digital Services"/>
  <contact>
    <name value="VA Digital Services"/>
    <telecom>
      <system value="url"/>
      <value value="http://va.gov"/>
    </telecom>
    <telecom>
      <system value="email"/>
      <value value="JohnMoehrke@gmail.com"/>
    </telecom>
  </contact>
  <contact>
    <name value="John Moehrke (himself)"/>
    <telecom>
      <system value="email"/>
      <value value="JohnMoehrke@gmail.com"/>
    </telecom>
  </contact>
  <description value="CapabilityStatement prototype for MHV as a FHIR Server exposing PHR data"/>
  <jurisdiction>
    <coding>
      <system value="urn:iso:std:iso:3166"/>
      <code value="US"/>
    </coding>
  </jurisdiction>
  <kind value="requirements"/>
  <fhirVersion value="4.0.1"/>
  <format value="application/fhir+json"/>
  <format value="application/fhir+xml"/>
  <rest>
    <mode value="server"/>
    <documentation value="MHV supports queries to PHR."/>
    <security>
      <cors value="false"/>
      <description value="Security is system level, PGHD presumes MHV properly handles user (as patient) rights"/>
    </security>
    <resource>
      <type value="AllergyIntolerance"/>
      <supportedProfile value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/StructureDefinition/VA.MHV.PHR.allergyIntolerance"/>
      <documentation value="MHV [PGHD use](https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/index.html)"/>
      <interaction>
        <code value="search-type"/>
      </interaction>
      <interaction>
        <code value="read"/>
      </interaction>
    </resource>
    <resource>
      <type value="Condition"/>
      <supportedProfile value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/StructureDefinition/VA.MHV.PHR.condition"/>
      <documentation value="MHV [PGHD use](https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/index.html)"/>
      <interaction>
        <code value="search-type"/>
      </interaction>
      <interaction>
        <code value="read"/>
      </interaction>
    </resource>
    <resource>
      <type value="Observation"/>
      <supportedProfile value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/StructureDefinition/VA.MHV.PHR.vitals"/>
      <supportedProfile value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/StructureDefinition/VA.MHV.PHR.vitalsBP"/>
      <supportedProfile value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/StructureDefinition/VA.MHV.PHR.vitalsPain"/>
      <documentation value="MHV [PGHD use](https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/index.html)"/>
      <interaction>
        <code value="search-type"/>
      </interaction>
      <interaction>
        <code value="read"/>
      </interaction>
    </resource>
    <resource>
      <type value="Immunization"/>
      <supportedProfile value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/StructureDefinition/VA.MHV.PHR.immunization"/>
      <documentation value="MHV [PGHD use](https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/index.html)"/>
      <interaction>
        <code value="search-type"/>
      </interaction>
      <interaction>
        <code value="read"/>
      </interaction>
    </resource>
    <resource>
      <type value="DocumentReference"/>
      <supportedProfile value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/StructureDefinition/VA.MHV.PHR.documentReference"/>
      <supportedProfile value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/StructureDefinition/VA.MHV.PHR.note"/>
      <supportedProfile value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/StructureDefinition/VA.MHV.PHR.imaging"/>
      <supportedProfile value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/StructureDefinition/VA.MHV.PHR.ecg"/>
      <documentation value="MHV [PGHD use](https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/index.html)"/>
      <interaction>
        <code value="search-type"/>
      </interaction>
      <interaction>
        <code value="read"/>
      </interaction>
    </resource>
    <resource>
      <type value="DiagnosticReport"/>
      <supportedProfile value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/StructureDefinition/VA.MHV.diagnosticReport"/>
      <supportedProfile value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/StructureDefinition/VA.MHV.PHR.chReport"/>
      <supportedProfile value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/StructureDefinition/VA.MHV.PHR.labReport"/>
      <documentation value="MHV [PGHD use](https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/index.html)"/>
      <interaction>
        <code value="search-type"/>
      </interaction>
      <interaction>
        <code value="read"/>
      </interaction>
    </resource>
    <resource>
      <type value="Patient"/>
      <supportedProfile value="https://department-of-veterans-affairs.github.io/mhv-fhir-phr-mapping/StructureDefinition/VA.MHV.patient"/>
      <interaction>
        <code value="search-type"/>
      </interaction>
      <interaction>
        <code value="read"/>
      </interaction>
    </resource>
    <interaction>
      <code value="search-system"/>
    </interaction>
  </rest>
</CapabilityStatement>