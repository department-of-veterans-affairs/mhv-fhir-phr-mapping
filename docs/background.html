<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>VA.MHV.PHR.EXAMPLE\Vista Mapping - FHIR v4.0.1</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
<link href="assets/css/vha-ig-template.css" rel="stylesheet"/>
<!-- Global site tag (gtag.js) - Google Analytics - Moehrke-Research-IGs -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GTLTM76GD7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-GTLTM76GD7');
</script>


    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="fhir-logo" sizes="144x144" href="assets/ico/icon-fhir-144.png"/>
    <link rel="fhir-logo" sizes="114x114" href="assets/ico/icon-fhir-114.png"/>
    <link rel="fhir-logo" sizes="72x72" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"3"}
    h3,h4,h5,h6{--heading-prefix:"3"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->

<div id="jfm-nav"> 
     <a id="jfm-logo" no-external="true" href="https://johnmoehrke.github.io">
     <img height="50" alt="VA Organization" src="assets/images/va-header-logo.png"/>
     </a>
	 </div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">MyHealtheVet PHR FHIR API</span>
            <br/>
            <span style="display:inline-block;">0.1.16-beta - ci-build



  <img alt="United States of America flag" src="assets/images/usa.svg" height="16" title="United States of America"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">Home</a>
  </li>
  <li>
    <a href="api.html">API</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Background
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="background.html">Vista Mapping</a>
      </li>
      <li>
        <a href="utility.html">Utility</a>
      </li>
      <li>
        <a href="ConvertDate.html">ConvertDate</a>
      </li>
      <li>
        <a href="identifier.html">Id vs Identifier</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="testplan.html">Test Plan</a>
  </li>
  <li>
    <a href="artifacts.html">Artifacts</a>
  </li>
  <li>
    <a href="downloads.html">Downloads</a>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>Vista Mapping</b></li>

          <span style="float:right;">

            <a href="api.html">&lt;prev</a> | 

            <a href="#bottom">bottom</a>

          | <a href="utility.html">next&gt;</a>

          </span>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">MyHealtheVet PHR FHIR API - Local Development build (v0.1.16-beta). See the <a href="https://johnmoehrke.github.io/MHV-PHR/history.html">Directory of published versions</a></p><!--EndReleaseHeader-->
  <h2>Vista Mapping</h2>
  





  <table class="colsi">
    <tr>
  
      <td>
        <i>Page standards status:</i> <a href="http://hl7.org/fhir/R4/versions.html#std-process" title="Standard Status">Informative</a>
        
      </td>
  
  
    </tr>
  </table>








    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#utility-resources" id="markdown-toc-utility-resources">Utility Resources</a></li>
  <li><a href="#mapping-clinical-resources" id="markdown-toc-mapping-clinical-resources">mapping Clinical Resources</a></li>
  <li><a href="#data-input-processing" id="markdown-toc-data-input-processing">Data input processing</a></li>
  <li><a href="#general-processing-of-clinical-resources" id="markdown-toc-general-processing-of-clinical-resources">General Processing of clinical resources</a></li>
  <li><a href="#references" id="markdown-toc-references">References</a></li>
</ul>

</div>

<p>MyHealtheVet acts as a FHIR Server.</p>

<h3 id="utility-resources">Utility Resources</h3>

<p>Note that these resources are used purely to provide linkage, they are minimally populated based on the information MHV receives. Often that means all that is populated is an identifier.</p>

<ul>
  <li><a href="StructureDefinition-VA.MHV.PHR.patient.html">Patient</a>
    <ul>
      <li><a href="StructureDefinition-VA.MHV.PHR.patient-mappings.html#mappings-for-vdif-to-mhv-phr-patientto">Mappings from VDIF - PatientTO</a></li>
      <li><a href="StructureDefinition-VA.MHV.PHR.patient-examples.html">Examples</a></li>
    </ul>
  </li>
  <li><a href="StructureDefinition-VA.MHV.PHR.practitioner.html">Practitioner</a>
    <ul>
      <li><a href="StructureDefinition-VA.MHV.PHR.practitioner-mappings.html#mappings-for-vdif-to-mhv-phr-userto">Mappings from VDIF - UserTO</a></li>
      <li><a href="StructureDefinition-VA.MHV.PHR.practitioner-mappings.html#mappings-for-vdif-to-mhv-phr-authorto">Mappings from VDIF - AuthorTO</a></li>
      <li><a href="StructureDefinition-VA.MHV.PHR.practitioner-examples.html">Examples</a></li>
    </ul>
  </li>
  <li><a href="StructureDefinition-VA.MHV.PHR.location.html">Location</a>
    <ul>
      <li><a href="StructureDefinition-VA.MHV.PHR.location-mappings.html#mappings-for-vdif-to-mhv-phr-hospitallocationto">Mappings from VDIF - HospitalAllocationTO</a></li>
      <li><a href="StructureDefinition-VA.MHV.PHR.location-examples.html">Examples</a></li>
    </ul>
  </li>
  <li><a href="StructureDefinition-VA.MHV.PHR.organization.html">Organization</a>
    <ul>
      <li><a href="StructureDefinition-VA.MHV.PHR.organization-mappings.html#mappings-for-vdif-to-mhv-phr-labsiteto">Mapping from VDIF - LabSiteTO</a></li>
      <li><a href="StructureDefinition-VA.MHV.PHR.organization-mappings.html#mappings-for-hdr-to-mhv-phr-performingorganization">Mapping from HDR PerformingOrganization</a></li>
      <li><a href="StructureDefinition-VA.MHV.PHR.organization-examples.html">Examples</a></li>
    </ul>
  </li>
</ul>

<h3 id="mapping-clinical-resources">mapping Clinical Resources</h3>

<p>This section is dedicated to instructions on how MHV will transition the data we receive into FHIR format.</p>

<ul>
  <li><a href="StructureDefinition-VA.MHV.PHR.allergyIntolerance.html#notes">Allergy and Intolerance</a>
    <ul>
      <li><a href="StructureDefinition-VA.MHV.PHR.allergyIntolerance-mappings.html#mappings-for-vhim-allergy-to-mhv-phr-intolerancecondition">Mappings from VHIM Allergy</a></li>
      <li><a href="StructureDefinition-VA.MHV.PHR.allergyIntolerance-examples.html">Examples</a></li>
    </ul>
  </li>
  <li><a href="StructureDefinition-VA.MHV.PHR.chReport.html">Chem-Hem (CH) Diagnostic Report</a>
    <ul>
      <li><a href="StructureDefinition-VA.MHV.PHR.chReport-mappings.html#mappings-for-hdr-to-mhv-phr-labtestpromises">Mapping from HDR labTestPromises to DiagnosticReport</a>
        <ul>
          <li><a href="StructureDefinition-VA.MHV.PHR.chReport-examples.html">Examples</a></li>
        </ul>
      </li>
      <li>contained <a href="StructureDefinition-VA.MHV.PHR.chSpecimen.html">Specimen</a>
        <ul>
          <li>Mappings from <a href="StructureDefinition-VA.MHV.PHR.chSpecimen-mappings.html#mappings-for-hdr-labtestpromises-specimen-to-mhv-phr-labtestpromises-specimen">HDR labTestPromises.specimen</a></li>
        </ul>
      </li>
      <li>contained Results <a href="StructureDefinition-VA.MHV.PHR.chTest.html">Observation(s)</a>
        <ul>
          <li>Mapping from <a href="StructureDefinition-VA.MHV.PHR.chTest-mappings.html#mappings-for-hdr-labtests-to-mhv-phr-labtestpromises-labtests">HDR labTests</a></li>
        </ul>
      </li>
      <li>contained Panels <a href="StructureDefinition-VA.MHV.PHR.chPanel.html">Observation(s)</a>
        <ul>
          <li>Mapping from <a href="StructureDefinition-VA.MHV.PHR.chPanel-mappings.html#mappings-for-hdr-labtests-panel-to-mhv-phr-labtestpromises-labtests-orderedtestcode">HDR labTests.orderedTestCode</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="StructureDefinition-VA.MHV.PHR.condition.html">Conditions</a>
    <ul>
      <li><a href="StructureDefinition-VA.MHV.PHR.condition-mappings.html#mappings-for-vdif-to-mhv-phr-problemto">Mapping from VDIF - ProblemTO</a></li>
      <li><a href="StructureDefinition-VA.MHV.PHR.condition-examples.html">Examples</a></li>
    </ul>
  </li>
  <li><a href="StructureDefinition-VA.MHV.PHR.ecg.html">ECG</a>
    <ul>
      <li><a href="StructureDefinition-VA.MHV.PHR.ecg-mappings.html#mappings-for-vdif-to-mhv-phr-clinicalprocedureto">Mapping from VDIF - ClinicalProcedureTO</a></li>
      <li><a href="StructureDefinition-VA.MHV.PHR.ecg-examples.html">Examples</a></li>
    </ul>
  </li>
  <li><a href="StructureDefinition-VA.MHV.PHR.immunization.html">Immunization</a>
    <ul>
      <li><a href="StructureDefinition-VA.MHV.PHR.immunization-mappings.html#mappings-for-vdif-to-mhv-phr-immunizationto">Mapping from VDIF - ImmunizationTO</a></li>
      <li><a href="StructureDefinition-VA.MHV.PHR.immunization-examples.html">Examples</a></li>
    </ul>
  </li>
  <li><a href="StructureDefinition-VA.MHV.PHR.labReport.html">LabReport</a> including Microbiology and Pathology
    <ul>
      <li><a href="StructureDefinition-VA.MHV.PHR.labReport-mappings.html#mappings-for-vdif-to-mhv-phr-labreportto">Mapping from VDIF - LabReportTO +</a>
        <ul>
          <li><a href="StructureDefinition-VA.MHV.PHR.labReport-examples.html">Examples</a></li>
        </ul>
      </li>
      <li>Contained <a href="StructureDefinition-VA.MHV.PHR.LabSpecimen.html">Specimen</a>
        <ul>
          <li>Mapping from <a href="StructureDefinition-VA.MHV.PHR.LabSpecimen-mappings.html#mappings-for-vdif-to-mhv-phr-labspecimen">VDIF LabSpecimen</a></li>
        </ul>
      </li>
      <li>Contained <a href="StructureDefinition-VA.MHV.PHR.labTest.html">Observation</a>
        <ul>
          <li>Mapping from <a href="StructureDefinition-VA.MHV.PHR.labTest-mappings.html#mappings-for-vdif-to-mhv-phr-labtestto">VDIF LabTestTO</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="StructureDefinition-VA.MHV.PHR.note.html">Notes</a>
    <ul>
      <li><a href="StructureDefinition-VA.MHV.PHR.note-mappings.html#mappings-for-vdif-to-mhv-phr-noteto">Mapping from VDIF - NoteTO</a></li>
      <li><a href="StructureDefinition-VA.MHV.PHR.note-examples.html">Examples</a></li>
    </ul>
  </li>
  <li><a href="StructureDefinition-VA.MHV.PHR.imaging.html">Radiology</a>
    <ul>
      <li><a href="StructureDefinition-VA.MHV.PHR.imaging-mappings.html#mappings-for-vdif-to-mhv-phr-imagingexamto">Mapping from VDIF - ImagingExamTO</a></li>
      <li><a href="StructureDefinition-VA.MHV.PHR.imaging-examples.html">Examples</a></li>
      <li>most <a href="https://johnmoehrke.github.io/MHV-PHR/Bundle-images.html">examples are within this Bundle</a>, and thus not individually exposed.</li>
    </ul>
  </li>
  <li><a href="vitals.html">Vitals</a></li>
</ul>

<h4 id="in-progress">in progress</h4>

<ul>
  <li>Medications (not defined yet what is the source or goal. I note that VIA does have a schema for a MedicationTO. I have heard that there are questions on how to best fit the FHIR medication concept domain.)</li>
</ul>

<h4 id="other">other</h4>

<ul>
  <li>Provenance – track where the data has come from, and if from multiple places track all.</li>
</ul>

<p>unknown (FHIR supports the following topics but unclear if this data exists in PHR)</p>

<ul>
  <li>care plan / care team resources</li>
  <li>allergy intolerance resources
    <ul>
      <li>AllergyTO is defined for VIA</li>
    </ul>
  </li>
  <li>encounter resources</li>
  <li>device resources</li>
  <li>goal resources</li>
  <li>procedure resources</li>
  <li>questionnaire / questionnaireResponse resources</li>
  <li>related person resources</li>
  <li>service request resources</li>
  <li>coverage resources</li>
</ul>

<p>The use of FHIR AuditEvent should be used to track all uses of the FHIR API. This is a base configuration of the HAPI FHIR Server. See IHE Implementation Guide on the use of <a href="https://profiles.ihe.net/ITI/BALP/index.html">Basic Audit Log Patterns</a></p>

<h3 id="data-input-processing">Data input processing</h3>

<p>General Pattern</p>

<ol>
  <li>Our FHIR database will assign id value naturally using normal HAPI method (likely UUID)</li>
  <li>Our FHIR database will put external identifiers (e.g. Those from the Vista id such as ImmunizationTO.id) into the .identifier element</li>
  <li>Our FHIR database should have one Organization resource… or are there multiple?</li>
  <li>Our FHIR database will have <a href="utility.html#support-resources">support resources</a> for common resource types: Patient, Practitioner, Location, etc – a Patient resource for each patient within the database, Location for all locations, and Practitioner for all clinicians (Users) - So that clinical resources can point at these resources as appropriate. For example when an Immunization was given at a specific location, we point at a Location resource with the details. Thus all clinical resources that were associated with that location all point at the one instance of Location. Same for Practitioner (Users), and Patients.</li>
  <li>Our FHIR database will have Provenance resource indicating each time a resource is created/updated/deleted. This will aid with the management of data changes and provide linkage back to origination and mapping details.</li>
</ol>

<h3 id="general-processing-of-clinical-resources">General Processing of clinical resources</h3>

<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="461px" preserveAspectRatio="none" style="width:269px;height:461px;background:#FFFFFF;" version="1.1" viewBox="0 0 269 461" width="269px" zoomAndPan="magnify"><defs /><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="120" x="73" y="34.5332">Update MHV-PHR</text><ellipse cx="128" cy="58.6094" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;" /><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="76" y="88.6094" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81" x="89" y="111.0664">read data VDIF</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="64.5" y="187.7031" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104" x="77.5" y="210.1602">lookup id for match</text><polygon fill="#F1F1F1" points="111,242.7969,145,242.7969,157,254.7969,145,266.7969,111,266.7969,99,254.7969,111,242.7969" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="111" y="259.2979">found?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="18" x="81" y="252.3799">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="12" x="157" y="252.3799">no</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="11" y="276.7969" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="92" x="24" y="299.2539">update if needed</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="146" y="276.7969" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="159" y="299.2539">create new</text><polygon fill="#F1F1F1" points="128,317.8906,140,329.8906,128,341.8906,116,329.8906,128,317.8906" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#F1F1F1" points="128,143.7031,140,155.7031,128,167.7031,116,155.7031,128,143.7031" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#F1F1F1" points="101,361.8906,155,361.8906,167,373.8906,155,385.8906,101,385.8906,89,373.8906,101,361.8906" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="54" x="101" y="378.3916">more data?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="18" x="167" y="371.4736">yes</text><ellipse cx="128" cy="439.1436" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;" /><ellipse cx="128" cy="439.1436" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="128" x2="128" y1="68.6094" y2="88.6094" /><polygon fill="#181818" points="124,78.6094,128,88.6094,132,78.6094,128,82.6094" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="99" x2="68.5" y1="254.7969" y2="254.7969" /><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="68.5" y1="254.7969" y2="276.7969" /><polygon fill="#181818" points="64.5,266.7969,68.5,276.7969,72.5,266.7969,68.5,270.7969" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="157" x2="187.5" y1="254.7969" y2="254.7969" /><line style="stroke:#181818;stroke-width:1.0;" x1="187.5" x2="187.5" y1="254.7969" y2="276.7969" /><polygon fill="#181818" points="183.5,266.7969,187.5,276.7969,191.5,266.7969,187.5,270.7969" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="68.5" y1="311.8906" y2="329.8906" /><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="116" y1="329.8906" y2="329.8906" /><polygon fill="#181818" points="106,325.8906,116,329.8906,106,333.8906,110,329.8906" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="187.5" x2="187.5" y1="311.8906" y2="329.8906" /><line style="stroke:#181818;stroke-width:1.0;" x1="187.5" x2="140" y1="329.8906" y2="329.8906" /><polygon fill="#181818" points="150,325.8906,140,329.8906,150,333.8906,146,329.8906" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="128" x2="128" y1="222.7969" y2="242.7969" /><polygon fill="#181818" points="124,232.7969,128,242.7969,132,232.7969,128,236.7969" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="128" x2="128" y1="167.7031" y2="187.7031" /><polygon fill="#181818" points="124,177.7031,128,187.7031,132,177.7031,128,181.7031" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="167" x2="243" y1="373.8906" y2="373.8906" /><polygon fill="#181818" points="239,267.2969,243,257.2969,247,267.2969,243,263.2969" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="243" x2="243" y1="155.7031" y2="373.8906" /><line style="stroke:#181818;stroke-width:1.0;" x1="243" x2="140" y1="155.7031" y2="155.7031" /><polygon fill="#181818" points="150,151.7031,140,155.7031,150,159.7031,146,155.7031" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="128" x2="128" y1="341.8906" y2="361.8906" /><polygon fill="#181818" points="124,351.8906,128,361.8906,132,351.8906,128,355.8906" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="128" x2="128" y1="123.7031" y2="143.7031" /><polygon fill="#181818" points="124,133.7031,128,143.7031,132,133.7031,128,137.7031" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="128" x2="128" y1="385.8906" y2="428.1436" /><polygon fill="#181818" points="124,418.1436,128,428.1436,132,418.1436,128,422.1436" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="12" x="132" y="408.2266">no</text></g></svg>
<figcaption>General Processing flow</figcaption>
</figure>
<p><br clear="all" /></p>

<ol>
  <li>given an id value on the data we are given, we look for the corresponding FHIR Resource with an identifier element equal to that id value. Thus the identifier element within our FHIR database is the linkage to original data id value.</li>
  <li>When nothing is found, we create a new instance of that clinical resource and populate it with the data we are given. Populating the .identifier element with the id of the data we were given.</li>
  <li>When one item is found, we compare the data we have with the data we were given. If no change, then nothing more is done. If there is a difference, then we update our data.</li>
  <li>When creating a new instance, or updating an existing instance, create a Provenance instance to track what was imported, from what, to what, when, and given some detail to indicate the translation used.</li>
</ol>

<h3 id="references">References</h3>

<p>Source of data received from VDIF using a SOAP xml schema that might be from one of:</p>

<ul>
  <li><a href="https://github.com/department-of-veterans-affairs/mhv-np-via-wsclient/blob/development/src/main/resources/VIA_v4.0.7_uat.wsdl">VIA_v4.0.7_uat.wsdl</a></li>
  <li><a href="https://github.com/department-of-veterans-affairs/mhv-ap-vde-support/blob/development/src/test/wsdl/mockey-mdws3-service.wsdl">mockey-mdws3-service.wsdl</a></li>
  <li><a href="https://github.com/department-of-veterans-affairs/mhv-hla-app-ui/blob/dbb0301be4a17f31e67048300d72c87c0977aa09/hra-mock-via-app/src/main/java/gov/va/hra/integration/via/mock/ws/EmrService.wsdl">EmrService.wsdl</a></li>
  <li>VA <a href="http://www.vistapedia.com/index.php/Main_Page">Vista Fileman</a></li>
</ul>




</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div style="background-color:var(--footer-nav-bg-color)">
        <table style="width:100%">
          <tbody>
            <tr>
              <td style="text-align:left">&#xA0;

                <a href="api.html">&lt;prev</a>

              </td>
              <td style="text-align:center">
                <a href="#top">top</a>
              </td>
              <td style="text-align:right">&#xA0;

                <a href="utility.html">next&gt;</a>

              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="inner-wrapper">
        <p>
          IG &#169; 2022+ <a style="color:var(--footer-hyperlink-text-color)" href="http://healthcaresecprivacy.blogspot.com">John Moehrke (himself)</a>.  Package va.mhv.phr.example#0.1.16-beta based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Tue, Jun 13, 2023 14:37-0500">2023-06-13</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                  | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/JohnMoehrke/MHV-PHR/issues/new/choose">New Issue</a> | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/JohnMoehrke/MHV-PHR/issues">Issues</a>
                
          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
<!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->


  
    
  


  
    
  



<!-- / feedback form  -->

  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

